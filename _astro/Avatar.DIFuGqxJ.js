import{j as d}from"./jsx-runtime.CLpGMVip.js";import{r}from"./index.D15Q2Owl.js";import{r as k}from"./index.BdteZSM4.js";import{S as F,a as g}from"./index.B0l8OdE7.js";function T(e,t=[]){let a=[];function n(o,s){const c=r.createContext(s),i=a.length;a=[...a,s];const l=f=>{const{scope:p,children:v,...m}=f,M=p?.[e]?.[i]||c,$=r.useMemo(()=>m,Object.values(m));return d.jsx(M.Provider,{value:$,children:v})};l.displayName=o+"Provider";function A(f,p){const v=p?.[e]?.[i]||c,m=r.useContext(v);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[l,A]}const u=()=>{const o=a.map(s=>r.createContext(s));return function(c){const i=c?.[e]||o;return r.useMemo(()=>({[`__scope${e}`]:{...c,[e]:i}}),[c,i])}};return u.scopeName=e,[n,B(u,...t)]}function B(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const n=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(o){const s=n.reduce((c,{useScope:i,scopeName:l})=>{const f=i(o)[`__scope${l}`];return{...c,...f}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return a.scopeName=t.scopeName,a}function q(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...a)=>t.current?.(...a),[])}var w=globalThis?.document?r.useLayoutEffect:()=>{};k();var D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],x=D.reduce((e,t)=>{const a=r.forwardRef((n,u)=>{const{asChild:o,...s}=n,c=o?F:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...s,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),S="Avatar",[O,Q]=T(S),[G,h]=O(S),C=r.forwardRef((e,t)=>{const{__scopeAvatar:a,...n}=e,[u,o]=r.useState("idle");return d.jsx(G,{scope:a,imageLoadingStatus:u,onImageLoadingStatusChange:o,children:d.jsx(x.span,{...n,ref:t})})});C.displayName=S;var N="AvatarImage",y=r.forwardRef((e,t)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:u=()=>{},...o}=e,s=h(N,a),c=H(n,o.referrerPolicy),i=q(l=>{u(l),s.onImageLoadingStatusChange(l)});return w(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?d.jsx(x.img,{...o,ref:t,src:n}):null});y.displayName=N;var j="AvatarFallback",R=r.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:n,...u}=e,o=h(j,a),[s,c]=r.useState(n===void 0);return r.useEffect(()=>{if(n!==void 0){const i=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(i)}},[n]),s&&o.imageLoadingStatus!=="loaded"?d.jsx(x.span,{...u,ref:t}):null});R.displayName=j;function H(e,t){const[a,n]=r.useState("idle");return w(()=>{if(!e){n("error");return}let u=!0;const o=new window.Image,s=c=>()=>{u&&n(c)};return n("loading"),o.onload=s("loaded"),o.onerror=s("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{u=!1}},[e,t]),a}var _=C,b=y,L=R;const E=r.forwardRef(({className:e,...t},a)=>d.jsx(_,{ref:a,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));E.displayName=_.displayName;const P=r.forwardRef(({className:e,...t},a)=>d.jsx(b,{ref:a,className:g("aspect-square h-full w-full",e),...t}));P.displayName=b.displayName;const I=r.forwardRef(({className:e,...t},a)=>d.jsx(L,{ref:a,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));I.displayName=L.displayName;const U=({src:e,alt:t})=>d.jsxs(E,{className:"w-28 h-28",children:[d.jsx(P,{src:e,alt:t}),d.jsx(I,{children:"A"})]});export{U as default};
